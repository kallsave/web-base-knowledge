1. 性能优化主要从资源加载优化(资源缓存http和分割文件,当前路由只加载当前所用到的文件),页面元素有效渲染,交互上算法优化(diff算法,尾递归),高密集计算优化(交给web-worker),内存管理(防止内存泄漏)


2. 性能检测(白屏时间，首屏时间, 渲染卡顿/操作卡顿)
- 首屏时间：从抓取到html文档到页面的可视范围内的元素都渲染完成
spa单页面应用首屏时间dom渲染是异步的,通过MutationObserver观察body下面的dom变动并记录时间,如果变动次数在连续的几次渲染周期为0,那么这就说明dom稳定了,这个时间就是首屏时间

- 渲染卡顿/操作卡顿: 顺畅的FPS是60左右,小于60太多(30左右)说明更新频率被滞后了,(一次宏任务开始时间到下一个宏任务开始时间超过16.7ms),出现卡顿现象
  原因分析:
    1. JS引擎线程在一定时间执行占用过多时间, 导致GUI线程一直无法工作,其它任务队列结果也无法及时通过JS引擎线程消费,具体的原因是
      a.在处理密集型计算（通过web-worker来优化)
      b.内存占用过多了,导致用于JS引擎执行的上下文可用堆,垃圾回收算法等处理变慢(管理好内存,及时销毁,有效的内存使用)。
    2. GUI线程进入工作后占用过多渲染时间,导致JS引擎线程一直无法进入工作,其它任务队列结果也无法及时通过JS引擎线程消费,具体的原因要更新的元素太多(使用diff算法,只更新变化的元素,有效渲染)


  3. 内存管理
  https://zhuanlan.zhihu.com/p/490835144
  https://zhuanlan.zhihu.com/p/393058833




